{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\frexm\\\\Desktop\\\\ProductListing\\\\client\\\\src\\\\components\\\\body\\\\dashboard\\\\CreateProduct.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport axios from 'axios';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { priceValidate } from '../../utils/validation/Validation';\nimport { showSuccessMsg, showErrMsg } from '../../utils/notification/Notification';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst initialState = {\n  title: '',\n  price: 0,\n  description: '',\n  location: '',\n  category: '',\n  phone: '',\n  err: '',\n  success: ''\n};\n\nfunction CreateProduct() {\n  _s();\n\n  const [product, setProduct] = useState(initialState);\n  const {\n    title,\n    price,\n    description,\n    location,\n    category,\n    phone,\n    err,\n    success\n  } = product;\n  const auth = useSelector(state => state.auth);\n  const token = useSelector(state => state.token);\n  const {\n    user\n  } = auth;\n  user = user._id;\n\n  const handleChangeInput = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setProduct({ ...product,\n      [name]: value,\n      err: '',\n      success: ''\n    });\n  };\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (isEmpty(title) || isEmpty(price) || isEmpty(description) || isEmpty(location) || isEmpty(category) || isEmpty(phone)) return setProduct({ ...product,\n      err: \"Please fill in all fields\",\n      success: ''\n    });\n    if (priceValidate(price)) return setProduct({ ...product,\n      err: \"Price must be greater than or equal to 0\",\n      success: ''\n    });\n\n    try {\n      console.log({\n        title,\n        description,\n        price,\n        location,\n        category,\n        phone,\n        image,\n        user\n      });\n      const res = await axios.post('api/products', {\n        title,\n        description,\n        price,\n        location,\n        category,\n        phone,\n        image,\n        user\n      });\n      setProduct({ ...product,\n        err: '',\n        success: res.data.msg\n      });\n    } catch (err) {\n      err.response.data.msg && setProduct({ ...product,\n        err: err.response.data.msg,\n        success: ''\n      });\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"create_product\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: \"Create Product\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 12\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"title\",\n          children: \"Title\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"title\",\n          id: \"title\",\n          placeholder: \"Enter Title\",\n          value: title,\n          onChange: handleChangeInput,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"price\",\n          children: \"Price\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          name: \"price\",\n          id: \"price\",\n          placeholder: \"Enter Price\",\n          value: price,\n          onChange: handleChangeInput,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"description\",\n          children: \"Description\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          type: \"text\",\n          name: \"description\",\n          id: \"description\",\n          placeholder: \"Enter Description\",\n          value: description,\n          onChange: handleChangeInput,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"location\",\n          children: \"Location\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"location\",\n          id: \"location\",\n          placeholder: \"Enter Location\",\n          value: location,\n          onChange: handleChangeInput,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"category\",\n          children: \"Category\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"category\",\n          id: \"category\",\n          placeholder: \"Enter Category\",\n          value: category,\n          onChange: handleChangeInput,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"phone\",\n          children: \"Phone no.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"phone\",\n          id: \"phone\",\n          placeholder: \"Enter Phone Number\",\n          value: phone,\n          onChange: handleChangeInput,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          name: \"file\",\n          id: \"file_up\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"create\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 9\n  }, this);\n}\n\n_s(CreateProduct, \"i82BkUP3UfZlYqSchmM8SxR+9PI=\", false, function () {\n  return [useSelector, useSelector];\n});\n\n_c = CreateProduct;\nexport default CreateProduct;\n\nvar _c;\n\n$RefreshReg$(_c, \"CreateProduct\");","map":{"version":3,"names":["React","useState","axios","useSelector","useDispatch","Link","priceValidate","showSuccessMsg","showErrMsg","initialState","title","price","description","location","category","phone","err","success","CreateProduct","product","setProduct","auth","state","token","user","_id","handleChangeInput","e","name","value","target","handleSubmit","preventDefault","isEmpty","console","log","image","res","post","data","msg","response"],"sources":["C:/Users/frexm/Desktop/ProductListing/client/src/components/body/dashboard/CreateProduct.js"],"sourcesContent":["import React, { useState } from 'react'\r\nimport axios from 'axios'\r\nimport {useSelector, useDispatch} from 'react-redux'\r\nimport {Link} from 'react-router-dom'\r\nimport {priceValidate} from '../../utils/validation/Validation'\r\nimport {showSuccessMsg, showErrMsg} from '../../utils/notification/Notification'\r\n\r\nconst initialState = {\r\n  title:'',\r\n  price: 0,\r\n  description: '',\r\n  location:'',\r\n  category:'',\r\n  phone:'',\r\n  err: '',\r\n  success:''\r\n}\r\n\r\nfunction CreateProduct() {\r\n    const [product, setProduct] = useState(initialState)\r\n    const { title, price, description, location, category, phone, err, success } = product\r\n\r\n    const auth = useSelector(state => state.auth)\r\n    const token = useSelector(state => state.token)\r\n    const {user} = auth\r\n    user = user._id\r\n    const handleChangeInput = e => {\r\n          const { name, value } = e.target\r\n          setProduct({...product,[name]:value, err:'', success:''})\r\n    }\r\n\r\n    const handleSubmit = async e => {\r\n      e.preventDefault()\r\n      if (isEmpty(title) || isEmpty(price) || isEmpty(description) || isEmpty(location) || isEmpty(category) || isEmpty(phone))\r\n           return  setProduct({ ...product, err:\"Please fill in all fields\", success: '' })\r\n\r\n      if(priceValidate(price))\r\n          return setProduct({...product, err: \"Price must be greater than or equal to 0\", success: ''})\r\n\r\n      try {\r\n          console.log({title, description, price, location ,category, phone, image, user})\r\n          const res = await axios.post('api/products', {\r\n            title, description, price, location ,category, phone, image, user\r\n          })\r\n\r\n          setProduct({...product, err: '', success: res.data.msg})\r\n      } catch (err) {\r\n          err.response.data.msg && \r\n          setProduct({...product, err: err.response.data.msg, success: ''})\r\n      }\r\n    }\r\n\r\n    return (\r\n        <div className=\"create_product\">\r\n           <h3>Create Product</h3>\r\n            <form onSubmit={handleSubmit}>\r\n                <div>\r\n                    <label htmlFor=\"title\">Title</label>\r\n                    <input type=\"text\" name=\"title\" id=\"title\" placeholder=\"Enter Title\" value={title} onChange={handleChangeInput} required/>\r\n                </div>\r\n\r\n                <div>\r\n                    <label htmlFor=\"price\">Price</label>\r\n                    <input type=\"number\" name=\"price\" id=\"price\" placeholder=\"Enter Price\" value={price} onChange={handleChangeInput} required/>\r\n                </div>\r\n\r\n                <div>\r\n                    <label htmlFor=\"description\">Description</label>\r\n                    <textarea type=\"text\" name=\"description\" id=\"description\" placeholder=\"Enter Description\" value={description} onChange={handleChangeInput} required/>\r\n                </div>\r\n\r\n                <div>\r\n                    <label htmlFor=\"location\">Location</label>\r\n                    <input type=\"text\" name=\"location\" id=\"location\" placeholder=\"Enter Location\" value={location} onChange={handleChangeInput} required/>\r\n                </div>\r\n\r\n                <div>\r\n                    <label htmlFor=\"category\">Category</label>\r\n                    <input type=\"text\" name=\"category\" id=\"category\" placeholder=\"Enter Category\" value={category} onChange={handleChangeInput} required/>\r\n                </div>\r\n\r\n                <div>\r\n                    <label htmlFor=\"phone\">Phone no.</label>\r\n                    <input type=\"text\" name=\"phone\" id=\"phone\"placeholder=\"Enter Phone Number\" value={phone} onChange={handleChangeInput} required/>\r\n                </div>\r\n\r\n                <div className=\"row\">\r\n                <input type=\"file\" name=\"file\" id=\"file_up\" />\r\n                </div>\r\n\r\n                <div className=\"row\">\r\n                <button type=\"submit\">create</button>\r\n                </div>\r\n               \r\n            </form>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CreateProduct"],"mappings":"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"},"metadata":{},"sourceType":"module"}